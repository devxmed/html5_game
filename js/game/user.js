var User=function(){function a(a,e){for(var t=0;t<r.length;t++){var s=r[t];void 0!==a[s]&&(e[s]=a[s])}}var e={};e.dataName="userData",e.playTimes=0,e.historyFriends=[],e.loadTimes=0,e.bornTime=null,e.marks=[1,2,3,4],e.mark=1,e.points=0,e.rank1=-1,e.rank2=1,e.stars=1,e.failTimes=0,e.adTimes=[0,1,1,1,1],e.colors=[1],e.kills=0,e.cars=[{id:1}],e.car=0,e.photo="res/jpgs/60.jpg",e.name="you",e.shortCutCreated=!1,e.bestRank=-1,e.record=[],e.hearts=0,e.shared=[],e.day=0,e.loginDays=0,e.abtest=null,e.setCar=function(a){for(var e=0;e<User.cars.length;e++)if(User.cars[e]===a)return void(User.car=e);User.cars.push({id:a,color:0}),User.car=User.cars.length-1},e.getHeart=function(a){e.hearts+=a,Game.ui.hearts.text=e.hearts},e.setHistoryFriends=function(a){for(var r=0;r<a.length;r++){var t=a[r],s={};s.id=t.getPlayer().getID(),s.name=t.getPlayer().getName(),s.photo=t.getPlayer().getPhoto(),e.historyFriends.push(s)}UI.syncLocalList()},e.checkDay=function(){var a=Game.time-Game.season1Time,r=Math.floor(a/864e5);r!==User.day&&(User.day=r,e.shared=[],e.loginDays+=1),2===e.loginDays&&platform.logEvent("loginDays-"+e.loginDays),null===e.bornTime&&(e.bornTime=Game.time)},e.getCarByTime=function(a){for(var e,r=Math.min(7,Math.floor(a/864e5)),t=[1,2,3,4,6],s=0;s<t.length;s++)t[s]<=r&&(e=s+2);var o=User.cars.length;if(e>o)for(var n=e-o,s=0;s<n;s++)User.cars.push({id:o+1+s,color:0})};var r=["rank1","rank2","stars","adTimes","colors","cars","record","car","bestRank","shortCutCreated","failTimes","day","loginDays","kills","hearts","shared","loadTimes","abtest","bornTime","points"];return e.syncData=function(){var r={};a(e,r),platform.setItem({userData:r})},e.setData=function(r,t){if(void 0!==r[e.dataName]){a(r[e.dataName],e)}else e.syncData();null!==e.abtest&&e.abtest.version===ABTest.version||(e.abtest=ABTest.create()),e.name=platform.getName(),e.photo=platform.getPhoto(),e.id=platform.getID(),t(),User.loadTimes+=1},e}();