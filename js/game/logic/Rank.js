var Rank=function(){var r={},n=["IRON","BRONZE","SILVER","GOLD","PLATINUM","DIAMOND","MASTER"],s=[2,2,3,4,5,5,5],e=[1,2,3,4,5,5,6];return r.syncScore=function(){null!==Game.time&&platform.setScore(r.getScore(),JSON.stringify({rank1:User.rank1,rank2:User.rank2,stars:User.stars,car:{id:User.cars[User.car].id}}),function(r){UI.syncGlobalRank(r)})},r.getStar=function(n){function a(){User.stars+=1,User.stars>s[User.rank1+1]&&(User.stars=1,User.rank2+=1),5!==User.rank1&&User.rank2>e[User.rank1+1]&&(-1===User.rank1?platform.logEvent("reachBronze"):0===User.rank1&&platform.logEvent("reachSilver"),User.rank2=1,User.rank1+=1,t=!0)}var t=!1;return User.points+=n,!(User.points<100)&&(User.points-=100,a(),User.points>=100&&(User.points-=100,a()),r.syncScore(),t)},r.lossesStar=function(){var r=!1;return User.stars-=1,0===User.stars&&(User.rank2-=1,0===User.rank2&&(r=!0,User.rank1-=1,User.rank2=e[User.rank1+1]),User.stars=s[User.rank1+1]),r},r.getScore=function(){for(var r=0,n=-1;n<User.rank1;n++){var a=n+1;r+=e[a]*s[a]}for(n=1;n<User.rank2;n++)r+=s[User.rank1+1];return r+=User.stars},r.getScoreByRecord=function(r){for(var n=0,a=-1;a<r.rank1;a++){var t=a+1;n+=e[t]*s[t]}for(a=1;a<r.rank2;a++)n+=s[r.rank1+1];return n+=r.stars},r.scoreToRank=function(r){},r.getTotalStars=function(){return s[User.rank1+1]},r.getRank1Image=function(){return"ui/b_icon_rank"+User.rank1+".png"},r.getRank2Text=function(){return n[User.rank1+1]+":"+User.rank2},r}();