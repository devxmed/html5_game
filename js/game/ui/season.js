var Season=function(){function e(){function e(){Laya.Tween.to(a.btn,{scaleX:1.1,scaleY:1.1},500,null,Laya.Handler.create(null,function(){!0===t&&Laya.Tween.to(a.btn,{scaleX:1,scaleY:1},300,Laya.Ease.backInOut,Laya.Handler.create(null,function(){!0===t&&e()}))}))}t=!0,e()}var a,n={};n.getSeason=function(){return(Game.time-Game.season1Time+((new Date).getTime()-Game.localTime))/6048e5};var t;return n.show=function(){UI.hide(),a.visible=!0,Laya.Tween.from(a.body,{scaleX:0,scaleY:0},300),function(){function e(){n-=1;for(var t=3+Math.floor(3*Math.random()),s=0;s<t;s++){var o=new Laya.Image;o.skin="effects/lizi"+Math.floor(1+4*Math.random())+".png",o.x=100+500*Math.random(),o.y=200+100*Math.random(),o.speedY=1,o.scaleX=.6*Math.random(),o.scaleY=o.scaleX,o.rotation=360*Math.random(),o.speedX=5*Math.random()*(o.x-320)>0?1:-1,a.addChild(o),function(e){var a=180*Math.random();Laya.timer.frameLoop(1,null,function n(){a-=1,e.x+=1*e.speedX,Math.abs(e.speedX)>.05?e.speedX-=.05*e.speedX/Math.abs(e.speedX):e.speedX=0,e.y+=o.speedY,e.speedY+=.2,a<=0&&(e.destroy(),Laya.timer.clear(null,n))})}(o)}0===n&&Laya.timer.clear(null,e)}var n=60;Laya.timer.frameLoop(1,null,e)}(),a.rank1.skin=Rank.getRank1Image(),a.rank2.text=Rank.getRank2Text();for(var t=358-User.stars/2*39,s=0;s<5;s++){var o=a.body.getChildByName("item"+s);s<User.stars?(o.visible=!0,o.x=t+39*s):o.visible=!1}a.best.value=-1===User.bestRank?0:User.bestRank,n.resetSeason(),e()},n.resetSeason=function(){},n.hide=function(){t=!1,a.visible=!1,UI.show()},n.init=function(){a=new seasonUI,Laya.stage.addChild(a),a.visible=!1,a.btn.on("click",null,n.hide)},n}();